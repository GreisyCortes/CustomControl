<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace="layout/plantilla :: head">
        <title>[[#{pagina.titulo}]]</title>
        <meta charset="UTF-8">
    </head>
    <body>

        <header th:replace="layout/plantilla :: header"/>

        
        <!--<p th:text="${mensaje}"></p>
        <p th:text="${saludo}"></p>-->
        <div th:if="${personas != null and !personas.empty}">
            <table  class="table table-dark table-striped text-center m-4">
                <tbody>
                    <tr>
                        <th>[[ #{persona.nombre} ]] </th>
                        <th>[[ #{persona.apellido} ]] </th>
                        <th>[[ #{persona.email} ]] </th>
                        <th>[[ #{persona.telefono} ]] <i class="fas fa-phone-volume"></i></th>
                        <th sec:authorize="hasRole('ROLE_ADMIN')">[[ #{accion.editar} ]] <i class="fas fa-pencil"></i></th>
                        <th sec:authorize="hasRole('ROLE_ADMIN')">[[ #{accion.eliminar} ]] <i class="fas fa-trash-alt"></i></th>
                    </tr>

                    <tr th:each="persona : ${personas}">
                        <td th:text="${persona.nombre}">Mostrar Nombre</td>
                        <td th:text="${persona.apellido}">Mostrar Apellido</td>
                        <td th:text="${persona.email}">Mostrar Email</td>
                        <td th:text="${persona.numero}">Mostrar Numero</td>
                        <td sec:authorize="hasRole('ROLE_ADMIN')"><a  th:href="@{/editar/} + ${persona.id_persona}">[[ #{accion.editar} ]]</td>
                        <td sec:authorize="hasRole('ROLE_ADMIN')"><a  th:href="@{/eliminar(id_persona=${persona.id_persona})}">[[ #{accion.eliminar} ]]</td>
                    </tr>
                </tbody>
                <tfoot>
                <td sec:authorize="hasRole('ROLE_ADMIN')"><a  th:href="@{/agregar}" style="text-decoration:none;">[[#{persona.crear}]] <i class="fas fa-user-plus" ></i></a></td>
                </tfoot>
            </table>
        </div>
        <div th:if="${personas == null or personas.empty}">
            [[#{form.lista-vacia}]]
        </div>

        <footer th:replace="layout/plantilla :: footer"/>
    </body>
</html>
